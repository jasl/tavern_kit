<%# Append user message via HTTP response for reliable sender delivery. %>
<%# User messages are also broadcast via ActionCable (see messages_controller.rb) %>
<%# for other users in the conversation. Duplicate prevention is handled %>
<%# client-side in conversation_channel_controller.js to avoid sender duplicates. %>
<%= turbo_stream.append(
      dom_id(@conversation, :messages_list),
      partial: "messages/message",
      locals: { message: @message }
    ) %>
