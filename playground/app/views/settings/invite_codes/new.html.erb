<% content_for :title, t("invite_codes.new.title", default: "New Invite Code") %>

<div class="space-y-6">
  <!-- Breadcrumbs -->
  <div class="breadcrumbs text-sm">
    <ul>
      <li>
        <%= link_to settings_invite_codes_path do %>
          <span class="icon-[lucide--ticket] size-4 mr-1"></span>
          <%= t("invite_codes.index.title", default: "Invite Codes") %>
        <% end %>
      </li>
      <li><%= t("invite_codes.new.title", default: "New Invite Code") %></li>
    </ul>
  </div>

  <!-- Form -->
  <div class="card bg-base-100 shadow-sm border border-base-300">
    <div class="card-body">
      <%= form_with model: @invite_code, url: settings_invite_codes_path do |f| %>
        <div class="space-y-4">
          <!-- Note -->
          <div class="form-control">
            <%= f.label :note, t("invite_codes.form.note", default: "Note"), class: "label" %>
            <%= f.text_field :note,
                  class: "input input-bordered w-full",
                  placeholder: t("invite_codes.form.note_placeholder", default: "e.g., For beta testers, Team invite...") %>
            <label class="label">
              <span class="label-text-alt"><%= t("invite_codes.form.note_hint", default: "Optional note to help you identify this code.") %></span>
            </label>
          </div>

          <!-- Max Uses -->
          <div class="form-control">
            <%= f.label :max_uses, t("invite_codes.form.max_uses", default: "Maximum Uses"), class: "label" %>
            <%= f.number_field :max_uses,
                  class: "input input-bordered w-full",
                  min: 1,
                  placeholder: t("invite_codes.form.max_uses_placeholder", default: "Leave empty for unlimited") %>
            <label class="label">
              <span class="label-text-alt"><%= t("invite_codes.form.max_uses_hint", default: "Limit how many times this code can be used.") %></span>
            </label>
          </div>

          <!-- Expires At -->
          <div class="form-control">
            <%= f.label :expires_at, t("invite_codes.form.expires_at", default: "Expiration Date"), class: "label" %>
            <%= f.datetime_local_field :expires_at,
                  class: "input input-bordered w-full" %>
            <label class="label">
              <span class="label-text-alt"><%= t("invite_codes.form.expires_at_hint", default: "Leave empty for no expiration.") %></span>
            </label>
          </div>

          <!-- Actions -->
          <div class="flex justify-end gap-2 pt-4">
            <%= link_to t("common.cancel", default: "Cancel"), settings_invite_codes_path, class: "btn btn-ghost" %>
            <%= f.submit t("invite_codes.form.create", default: "Create Invite Code"), class: "btn btn-primary gap-2" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
