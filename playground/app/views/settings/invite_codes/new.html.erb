<% content_for :title, t("invite_codes.new.title", default: "New Invite Code") %>

<div class="max-w-2xl mx-auto space-y-6">
  <!-- Breadcrumbs -->
  <div class="breadcrumbs text-sm">
    <ul>
      <li>
        <%= link_to settings_invite_codes_path do %>
          <span class="icon-[lucide--ticket] size-4 mr-1"></span>
          <%= t("invite_codes.index.title", default: "Invite Codes") %>
        <% end %>
      </li>
      <li><%= t("invite_codes.new.title", default: "New Invite Code") %></li>
    </ul>
  </div>

  <!-- Header -->
  <div class="flex items-center gap-3">
    <div class="w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center">
      <span class="icon-[lucide--plus] size-6 text-primary"></span>
    </div>
    <div>
      <h1 class="text-2xl font-bold"><%= t("invite_codes.new.title", default: "New Invite Code") %></h1>
      <p class="text-base-content/60">
        <%= t("invite_codes.new.description", default: "Create a new invite code for user registration.") %>
      </p>
    </div>
  </div>

  <!-- Form -->
  <%= form_with model: @invite_code, url: settings_invite_codes_path, class: "card bg-base-100 shadow-sm border border-base-300" do |f| %>
    <div class="card-body space-y-4">
      <!-- Note -->
      <div class="form-control">
        <%= f.label :note, t("invite_codes.form.note", default: "Note"), class: "label" %>
        <%= f.text_field :note,
              class: "input input-bordered",
              placeholder: t("invite_codes.form.note_placeholder", default: "e.g., For beta testers, Team invite...") %>
        <label class="label">
          <span class="label-text-alt"><%= t("invite_codes.form.note_hint", default: "Optional note to help you identify this code.") %></span>
        </label>
      </div>

      <!-- Max Uses -->
      <div class="form-control">
        <%= f.label :max_uses, t("invite_codes.form.max_uses", default: "Maximum Uses"), class: "label" %>
        <%= f.number_field :max_uses,
              class: "input input-bordered",
              min: 1,
              placeholder: t("invite_codes.form.max_uses_placeholder", default: "Leave empty for unlimited") %>
        <label class="label">
          <span class="label-text-alt"><%= t("invite_codes.form.max_uses_hint", default: "Limit how many times this code can be used.") %></span>
        </label>
      </div>

      <!-- Expires At -->
      <div class="form-control">
        <%= f.label :expires_at, t("invite_codes.form.expires_at", default: "Expiration Date"), class: "label" %>
        <%= f.datetime_local_field :expires_at,
              class: "input input-bordered" %>
        <label class="label">
          <span class="label-text-alt"><%= t("invite_codes.form.expires_at_hint", default: "Leave empty for no expiration.") %></span>
        </label>
      </div>

      <!-- Actions -->
      <div class="flex justify-end gap-2 pt-4">
        <%= link_to t("common.cancel", default: "Cancel"), settings_invite_codes_path, class: "btn btn-ghost" %>
        <%= f.submit t("invite_codes.form.create", default: "Create Invite Code"), class: "btn btn-primary gap-2" %>
      </div>
    </div>
  <% end %>
</div>
